{"ast":null,"code":"import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import'./CourseDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CourseDetail(){var _location$state,_location$state2,_course$syllabus,_course$reviews;const location=useLocation();const navigate=useNavigate();const course=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.course;const[enrolledCourses,setEnrolledCourses]=useState(((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.enrolledCourses)||[]);const[isEnrolled,setIsEnrolled]=useState(enrolledCourses.some(c=>c.id===course.id));console.log('Enrolled Courses at details page:',enrolledCourses);console.log('Course selected at details page:',course);if(!course){return/*#__PURE__*/_jsx(\"div\",{children:\"No course data available.\"});}const goToCatalogue=()=>{navigate('/course-catalogue');};const addToDashboard=course=>{console.log('Adding to dashboard:',course);fetch('http://localhost:8000/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({course_id:course.id,name:course.name,progress:\"0%\"// Assuming progress starts at 0%\n})}).then(response=>response.json()).then(data=>{console.log('Course added:',data);setEnrolledCourses(prevCourses=>[...prevCourses,data]);setIsEnrolled(true);}).catch(error=>console.error('Error adding course:',error));};return/*#__PURE__*/_jsxs(\"div\",{className:\"course-detail-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Course Detail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Instructor: \",course.instructor||'TBA']}),/*#__PURE__*/_jsx(\"button\",{onClick:goToCatalogue,className:\"back-button\",children:\"Back to Course Catalogue\"})]}),/*#__PURE__*/_jsx(\"img\",{src:course.image,alt:\"Course on \".concat(course.name)}),/*#__PURE__*/_jsx(\"p\",{children:course.description}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Duration: \",course.duration]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Syllabus\"}),/*#__PURE__*/_jsx(\"ul\",{children:((_course$syllabus=course.syllabus)===null||_course$syllabus===void 0?void 0:_course$syllabus.map((item,index)=>/*#__PURE__*/_jsx(\"li\",{children:item},index)))||/*#__PURE__*/_jsx(\"li\",{children:\"No syllabus available.\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Choose Your Session Timing:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"morning\",name:\"session-time\",value:\"Morning\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"morning\",children:\"Morning\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"afternoon\",name:\"session-time\",value:\"Afternoon\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"afternoon\",children:\"Afternoon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"evening\",name:\"session-time\",value:\"Evening\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"evening\",children:\"Evening\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search reviews\",className:\"search-reviews\"}),/*#__PURE__*/_jsx(\"div\",{className:\"review-container\",children:((_course$reviews=course.reviews)===null||_course$reviews===void 0?void 0:_course$reviews.length)>0?course.reviews.map((review,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"review\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:review.reviewer}),\" says: \",review.comment]})},index)):/*#__PURE__*/_jsx(\"div\",{children:\"No reviews available.\"})}),isEnrolled?/*#__PURE__*/_jsxs(\"div\",{className:\"enrollment-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You have successfully enrolled in this course.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-button\",onClick:()=>navigate('/'),children:\"Go to Dashboard\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"enroll-button\",onClick:()=>addToDashboard(course),children:\"Enroll Now\"})]});}export default CourseDetail;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","CourseDetail","_location$state","_location$state2","_course$syllabus","_course$reviews","location","navigate","course","state","enrolledCourses","setEnrolledCourses","isEnrolled","setIsEnrolled","some","c","id","console","log","children","goToCatalogue","addToDashboard","fetch","method","headers","body","JSON","stringify","course_id","name","progress","then","response","json","data","prevCourses","catch","error","className","instructor","onClick","src","image","alt","concat","description","duration","syllabus","map","item","index","type","value","htmlFor","placeholder","reviews","length","review","reviewer","comment"],"sources":["/Users/tejkiranyabaku/Django/AWS/EduPlatform/frontend/src/CourseDetail.js"],"sourcesContent":["import React, { useState} from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './CourseDetail.css';\n\nfunction CourseDetail() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const course = location.state?.course;\n  const [enrolledCourses, setEnrolledCourses] = useState(location.state?.enrolledCourses || []);\n  const [isEnrolled, setIsEnrolled] = useState(enrolledCourses.some(c => c.id === course.id));\n  console.log('Enrolled Courses at details page:', enrolledCourses);\n  console.log('Course selected at details page:', course);\n\n\n\n  if (!course) {\n    return <div>No course data available.</div>;\n  }\n\n  const goToCatalogue = () => {\n    navigate('/course-catalogue');\n  };\n\n  const addToDashboard = (course) => {\n    console.log('Adding to dashboard:', course);\n    fetch('http://localhost:8000/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        course_id: course.id,\n        name: course.name,\n        progress: \"0%\", // Assuming progress starts at 0%\n      }),\n    })\n    .then(response => response.json())\n    .then(data => {\n      console.log('Course added:', data);\n      setEnrolledCourses(prevCourses => [...prevCourses, data]);    \n      setIsEnrolled(true);\n    })\n    .catch(error => console.error('Error adding course:', error));\n  };\n\n  return (\n    <div className=\"course-detail-container\">\n      <h1>Course Detail</h1>\n      <div className=\"top-container\">\n        <h2>Instructor: {course.instructor || 'TBA'}</h2>\n        <button onClick={goToCatalogue} className=\"back-button\">Back to Course Catalogue</button>\n      </div>\n      <img src={course.image} alt={`Course on ${course.name}`}/>\n      <p>{course.description}</p>\n      <h3>Duration: {course.duration}</h3>\n      <h3>Syllabus</h3>\n      <ul>\n        {course.syllabus?.map((item, index) => (\n          <li key={index}>{item}</li>\n        )) || <li>No syllabus available.</li>}\n      </ul>\n      <h3>Choose Your Session Timing:</h3>\n      <div>\n        <input type=\"radio\" id=\"morning\" name=\"session-time\" value=\"Morning\" />\n        <label htmlFor=\"morning\">Morning</label>\n        <input type=\"radio\" id=\"afternoon\" name=\"session-time\" value=\"Afternoon\" />\n        <label htmlFor=\"afternoon\">Afternoon</label>\n        <input type=\"radio\" id=\"evening\" name=\"session-time\" value=\"Evening\" />\n        <label htmlFor=\"evening\">Evening</label>\n      </div>\n      <h3>Reviews</h3>\n      <input type=\"text\" placeholder=\"Search reviews\" className=\"search-reviews\" />\n      <div className=\"review-container\">\n        {course.reviews?.length > 0 ? course.reviews.map((review, index) => (\n          <div key={index} className=\"review\">\n            <p><strong>{review.reviewer}</strong> says: {review.comment}</p>\n          </div>\n        )) : <div>No reviews available.</div>}\n      </div>\n      {isEnrolled ? (\n        <div className=\"enrollment-message\">\n          <p>You have successfully enrolled in this course.</p>\n          <button className=\"view-button\" onClick={() => navigate('/')}>Go to Dashboard</button>\n        </div>\n      ) : (\n        <button className=\"enroll-button\" onClick={() => addToDashboard(course)}>Enroll Now</button>\n      )}\n\n    </div>\n  );\n}\n\nexport default CourseDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}